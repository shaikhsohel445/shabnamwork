<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Address/Phone/Email Formatter</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input, button { padding: 8px; margin: 5px 0; width: 100%; max-width: 400px; }
    #output { margin-top: 20px; white-space: pre-line; border: 1px solid #ccc; padding: 10px; width: 100%; max-width: 400px; }
  </style>
</head>
<body>
  <h2>Formatter Form</h2>
  <label>Address (before Chhatrapati Sambhajinagar):</label><br>
  <input type="text" id="address" placeholder="Enter address" /><br>

  <label>Mobile Number:</label><br>
  <input type="text" id="mobile" placeholder="Enter mobile number" /><br>

  <label>Email Prefix (before @gmail.com):</label><br>
  <input type="text" id="email" placeholder="Enter email prefix" /><br>

  <button onclick="generateFormat()">Generate Format</button>
  <button onclick="resetForm()">Reset</button>

  <div id="output"></div>
  <button id="copyBtn" style="display:none;" onclick="copyText()">Copy</button>
  <button id="shareBtn" style="display:none;" onclick="shareText()">Share on WhatsApp</button>

  <script>
    function generateFormat() {
      let address = document.getElementById("address").value.trim();
      let mobile = document.getElementById("mobile").value.trim();
      let emailPrefix = document.getElementById("email").value.trim();

      // force email to lowercase and no spaces
      emailPrefix = emailPrefix.replace(/\s+/g, '').toLowerCase();

      if (!address || !mobile || !emailPrefix) {
        alert("Please fill all fields");
        return;
      }

      let email = emailPrefix + "@gmail.com";
      let formatted = `Add.\n${address}, Chhatrapati Sambhajinagar\nEmail. ${email}\n${mobile}`;

      document.getElementById("output").innerText = formatted;
      document.getElementById("copyBtn").style.display = "inline-block";
      document.getElementById("shareBtn").style.display = "inline-block";
    }

    function resetForm() {
      document.getElementById("address").value = "";
      document.getElementById("mobile").value = "";
      document.getElementById("email").value = "";
      document.getElementById("output").innerText = "";
      document.getElementById("copyBtn").style.display = "none";
      document.getElementById("shareBtn").style.display = "none";
    }

    function copyText() {
      let text = document.getElementById("output").innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied to clipboard!");
        resetForm();
      });
    }

    function shareText() {
      let text = document.getElementById("output").innerText;
      let url = `https://wa.me/?text=${encodeURIComponent(text)}`;
      window.open(url, "_blank");
      resetForm();
    }

    // Live enforcement on email input
    document.getElementById("email").addEventListener("input", function(e) {
      this.value = this.value.replace(/\s+/g, '').toLowerCase();
    });
  </script>
</body>
</html>
